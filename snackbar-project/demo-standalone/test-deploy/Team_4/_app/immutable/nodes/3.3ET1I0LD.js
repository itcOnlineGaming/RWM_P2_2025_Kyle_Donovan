import{f as J,e as k,a as r,c as Z,t as E}from"../chunks/ClZJ-oqt.js";import{i as Ye}from"../chunks/DOE-zonE.js";import{o as qe}from"../chunks/D32VF5zq.js";import{m as Ae,b as Je,aM as Ue,h as Pt,F as Le,C as Re,y as Zt,e as $t,c as te,f as We,t as He,L as Qe,o as A,aN as ee,aO as ze,aq as W,M as X,N as Ve,g as t,O as s,P as n,S as l,aP as Be,aQ as Xe,Q as i,X as d,aR as ht,aS as je,ar as Ge}from"../chunks/C5Mxa1Nn.js";import{s as O}from"../chunks/DrQbHkcN.js";import{e as bt,i as mt}from"../chunks/CYFRDIhe.js";import{i as h}from"../chunks/Bf4squbi.js";import{s as gt,a as Ke,r as Ot}from"../chunks/CQcTpzom.js";import{s as Ze,b as Ft,a as $e,d as ta,c as ea,n as aa}from"../chunks/BP6zZMA6.js";import"../chunks/C4IQdryL.js";import"../chunks/CAn1Jwfl.js";import{s as it}from"../chunks/CdwLM3Zx.js";import{i as ia,s as na,t as sa}from"../chunks/p6k9Q-Qq.js";function ra(nt,j){let H=null,ot=Pt;var F;if(Pt){H=We;for(var p=Le(document.head);p!==null&&(p.nodeType!==Re||p.data!==nt);)p=Zt(p);if(p===null)$t(!1);else{var G=Zt(p);p.remove(),te(G)}}Pt||(F=document.head.appendChild(Ae()));try{Je(()=>j(F),Ue)}finally{ot&&($t(!0),te(H))}}function ae(nt){return function(...j){var H=j[0];return H.stopPropagation(),nt?.apply(this,j)}}function oa(nt,j){var H=nt.$$events?.[j.type],ot=He(H)?H.slice():H==null?[]:[H];for(var F of ot)F.call(this,j)}var va=J('<div class="day-name"> </div>'),la=J('<div><span class="event-tag-icon"><!></span> <span class="event-tag-title"> </span></div>'),da=J('<div class="event-more-tag"> </div>'),ca=J('<div class="day-events-inline"><!> <!></div>'),ua=J('<div class="day-number"> </div> <!>',1),fa=J("<div><!></div>"),_a=J('<div class="event-card"><div class="event-header"><div><!></div> <div class="event-info"><div class="event-title"> </div> <div class="event-time"> </div></div></div> <div class="event-actions"><button class="event-btn" title="Edit event"><span>âœï¸</span></button> <button class="event-btn" title="Send reminder (vibrates on mobile)"><span>ğŸ””</span></button> <button class="event-btn danger" title="Delete event"><span>ğŸ—‘ï¸</span></button></div></div>'),pa=J('<div class="event-list"></div>'),ba=J('<p class="no-events">No events scheduled</p> <button class="btn btn-primary btn-block"><span>â•</span> Add Event</button>',1),ma=J('<div class="event-card small"><div class="event-header"><div><!></div> <div class="event-info"><div class="event-title"> </div> <div class="event-time"> </div></div></div></div>'),ga=J('<div class="event-list"></div>'),ha=J('<button class="btn btn-danger"><span>ğŸ—‘ï¸</span> Delete</button>'),ya=J('<div class="modal-overlay"><div class="modal"><div class="modal-header"><h2 class="modal-title"> </h2> <button class="modal-close">âœ•</button></div> <div class="modal-body"><div class="form-field"><label for="event-title">Event Title</label> <input id="event-title" type="text" placeholder="e.g., Team Meeting"/></div> <div class="form-row"><div class="form-field"><label for="event-date">Date</label> <input id="event-date" type="date"/></div> <div class="form-field"><label for="event-time">Time</label> <input id="event-time" type="time"/></div></div> <div class="form-field"><label for="event-type">Event Type</label> <select id="event-type"><option>ğŸ“ Meeting</option><option>ğŸ“ Call</option><option>ğŸ‘ï¸ Review</option><option>ğŸ¯ Demo</option></select></div></div> <div class="modal-footer"><!> <button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary"><span> </span> </button></div></div></div>'),wa=J('<div class="calendar-page"><div class="calendar-header"><div><h1 class="page-title">Calendar</h1> <p class="page-subtitle">Manage your schedule and events</p> <div style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px; font-size: 14px;"><strong>Notification Status:</strong> <!></div></div> <div class="header-actions"><button class="btn btn-secondary"><span>ğŸ“…</span> Today</button> <button class="btn btn-primary"><span>â•</span> New Event</button></div></div> <div class="calendar-container"><div class="calendar-main"><div class="calendar-controls"><button class="control-btn"><span>â†</span></button> <h2 class="month-year"> </h2> <button class="control-btn"><span>â†’</span></button></div> <div class="calendar-grid"><!> <!></div></div> <div class="calendar-sidebar"><div class="sidebar-section"><h3 class="sidebar-title"><!></h3> <!></div> <div class="sidebar-section"><h3 class="sidebar-title">Quick Actions</h3> <div class="quick-actions"><button class="quick-action-btn"><span>ğŸ”„</span> Sync Calendar</button> <button class="quick-action-btn"><span>ğŸ“Š</span> View Today</button> <button class="quick-action-btn"><span>ğŸ“ˆ</span> Weekly View</button> <button><span> </span> </button></div></div></div></div></div> <!>',1);function Ya(nt,j){Qe(j,!1);const H=A(),ot=A(),F=new Date;let p=A(F.getMonth()),G=A(F.getFullYear()),$=A(!1),ut=A(!1),tt=A(!1),vt=A(null),et=A(""),lt=A(F.toISOString().split("T")[0]),ft=A("14:00"),V=A("meeting"),N=A([]);function ie(){return`event_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function ne(){if(typeof window<"u"){const e=localStorage.getItem("calendar_events");if(e)try{const a=JSON.parse(e);l(N,a.map(c=>({...c,date:new Date(c.date)}))),console.log("ğŸ“… Loaded",t(N).length,"events from storage")}catch(a){console.error("Failed to load events:",a),l(N,[])}}}function yt(){typeof window<"u"&&(localStorage.setItem("calendar_events",JSON.stringify(t(N))),console.log("ğŸ’¾ Saved",t(N).length,"events to storage"))}const It=["January","February","March","April","May","June","July","August","September","October","November","December"],se=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];qe(async()=>{ne();const{permission:e,registration:a}=await Ze();console.log("Notification permission:",e),console.log("Service Worker registration:",a),e==="granted"&&a&&console.log("âœ… Mobile notifications ready!"),l($,await ia()),t($)&&console.log("âœ… Push notifications already subscribed")});async function re(){await na()?(l($,!0),it.success("Push notifications enabled! You'll receive reminders even when the app is closed.",{duration:5e3,position:"top-center"})):it.error("Failed to enable push notifications",{duration:4e3})}function oe(e,a,c){const o=new Date(e,a,1),b=new Date(e,a+1,0).getDate(),f=o.getDay(),x=[];for(let v=0;v<f;v++)x.push({day:null,isCurrentMonth:!1,events:[]});for(let v=1;v<=b;v++){const T=new Date(e,a,v),y=c.filter(m=>m.date.getDate()===v&&m.date.getMonth()===a&&m.date.getFullYear()===e);x.push({day:v,date:T,isCurrentMonth:!0,isToday:v===F.getDate()&&a===F.getMonth()&&e===F.getFullYear(),events:y})}return x}function ve(){t(p)===0?(l(p,11),ht(G,-1)):ht(p,-1)}function le(){t(p)===11?(l(p,0),ht(G)):ht(p)}function de(){l(p,F.getMonth()),l(G,F.getFullYear()),it.info("Jumped to today")}function Yt(e){if(l(tt,!1),l(vt,null),l(ut,!0),e){const a=new Date(t(G),t(p),e);l(lt,a.toISOString().split("T")[0])}else l(lt,F.toISOString().split("T")[0]);l(et,""),l(ft,"14:00"),l(V,"meeting")}function ce(e){l(tt,!0),l(vt,e.id),l(ut,!0),l(et,e.title),l(lt,e.date.toISOString().split("T")[0]);const a=e.date.getHours().toString().padStart(2,"0"),c=e.date.getMinutes().toString().padStart(2,"0");l(ft,`${a}:${c}`),l(V,e.type)}function _t(){l(ut,!1)}function ue(){if(!t(et).trim()){it.error("Please enter an event title");return}const[e,a]=t(ft).split(":").map(Number),c=new Date(t(lt));if(c.setHours(e,a),t(tt)&&t(vt))l(N,t(N).map(o=>o.id===t(vt)?{...o,date:c,title:t(et),type:t(V),description:`${t(V).charAt(0).toUpperCase()+t(V).slice(1)} scheduled`}:o)),yt(),it.success(`Event "${t(et)}" updated successfully`,{duration:3e3,position:"bottom-right"});else{const o={id:ie(),date:c,title:t(et),type:t(V),description:`${t(V).charAt(0).toUpperCase()+t(V).slice(1)} scheduled`};l(N,[...t(N),o]),yt(),aa(o,{showDesktopNotification:!0,snackbarPosition:"bottom-right",snackbarDuration:4e3})}_t()}function fe(e){Yt(e)}function qt(e){ce(e)}async function _e(e){ta(e,15,{showDesktopNotification:!0,snackbarPosition:"top-right"}),t($)&&await sa(`ğŸ“… Reminder: ${e.title}`,"Your event starts in 15 minutes",{icon:"ğŸ“…",tag:`reminder-${e.date.getTime()}`,requireInteraction:!0})}function At(e){e.title,l(N,t(N).filter(a=>a.id!==e.id)),yt(),ea(e,{showDesktopNotification:!0,snackbarPosition:"top-right"}),t(ut)&&t(tt)&&t(vt)===e.id&&_t()}let Q=A(null);function pe(e){e.isCurrentMonth&&l(Q,e)}ee(()=>(t(G),t(p),t(N)),()=>{l(H,oe(t(G),t(p),t(N)))}),ee(()=>(t(p),t(G)),()=>{l(ot,`${It[t(p)]} ${t(G)}`)}),ze(),Ye();var Jt=wa();ra("13luymz",e=>{Be(()=>{Xe.title="Calendar - CalendarSync Pro"})});var wt=W(Jt),kt=n(wt),xt=n(kt),Ut=s(n(xt),4),be=s(n(Ut),2);{var me=e=>{var a=Z(),c=W(a);{var o=b=>{var f=E("âŒ Not supported in this browser");r(b,f)},I=b=>{var f=Z(),x=W(f);{var v=y=>{var m=E("âœ… Enabled (notifications will appear)");r(y,m)},T=y=>{var m=Z(),z=W(m);{var U=S=>{var C=E("âŒ Blocked (enable in browser settings)");r(S,C)},B=S=>{var C=E("âš ï¸ Not requested yet");r(S,C)};h(z,S=>{d(()=>Notification.permission==="denied")?S(U):S(B,!1)},!0)}r(y,m)};h(x,y=>{d(()=>Notification.permission==="granted")?y(v):y(T,!1)},!0)}r(b,f)};h(c,b=>{"Notification"in window?b(I,!1):b(o)})}r(e,a)};h(be,e=>{typeof window<"u"&&e(me)})}i(Ut),i(xt);var Lt=s(xt,2),Rt=n(Lt),ge=s(Rt,2);i(Lt),i(kt);var Wt=s(kt,2),Et=n(Wt),St=n(Et),Ht=n(St),Mt=s(Ht,2),he=n(Mt,!0);i(Mt);var ye=s(Mt,2);i(St);var Qt=s(St,2),zt=n(Qt);bt(zt,1,()=>se,mt,(e,a)=>{var c=va(),o=n(c,!0);i(c),X(()=>O(o,t(a))),r(e,c)});var we=s(zt,2);bt(we,1,()=>t(H),mt,(e,a)=>{var c=fa();let o;var I=n(c);{var b=f=>{var x=ua(),v=W(x),T=n(v,!0);i(v);var y=s(v,2);{var m=z=>{var U=ca(),B=n(U);bt(B,1,()=>(t(a),d(()=>t(a).events.slice(0,2))),mt,(Y,u)=>{var g=la(),w=n(g),L=n(w);{var at=D=>{var K=E("ğŸ“");r(D,K)},st=D=>{var K=Z(),rt=W(K);{var _=R=>{var dt=E("ğŸ“");r(R,dt)},P=R=>{var dt=Z(),Oe=W(dt);{var Fe=ct=>{var Tt=E("ğŸ‘ï¸");r(ct,Tt)},Ie=ct=>{var Tt=E("ğŸ¯");r(ct,Tt)};h(Oe,ct=>{t(u),d(()=>t(u).type==="review")?ct(Fe):ct(Ie,!1)},!0)}r(R,dt)};h(rt,R=>{t(u),d(()=>t(u).type==="call")?R(_):R(P,!1)},!0)}r(D,K)};h(L,D=>{t(u),d(()=>t(u).type==="meeting")?D(at):D(st,!1)})}i(w);var q=s(w,2),M=n(q,!0);i(q),i(g),X(()=>{gt(g,1,`event-tag ${t(u),d(()=>t(u).type)??""}`),Ke(g,"title",`${t(u),d(()=>t(u).title)??""} - Click to edit`),O(M,(t(u),d(()=>t(u).title)))}),k("click",g,ae(()=>qt(t(u)))),r(Y,g)});var S=s(B,2);{var C=Y=>{var u=da(),g=n(u);i(u),X(()=>O(g,`+${t(a),d(()=>t(a).events.length-2)??""} more`)),r(Y,u)};h(S,Y=>{t(a),d(()=>t(a).events.length>2)&&Y(C)})}i(U),r(z,U)};h(y,z=>{t(a),d(()=>t(a).events.length>0)&&z(m)})}X(()=>O(T,(t(a),d(()=>t(a).day)))),r(f,x)};h(I,f=>{t(a),d(()=>t(a).isCurrentMonth)&&f(b)})}i(c),X(()=>o=gt(c,1,"calendar-day",null,o,{empty:!t(a).isCurrentMonth,today:t(a).isToday,"has-events":t(a).events.length>0,selected:t(Q)===t(a)})),k("click",c,()=>pe(t(a))),r(e,c)}),i(Qt),i(Et);var Vt=s(Et,2),Dt=n(Vt),Nt=n(Dt),ke=n(Nt);{var xe=e=>{var a=E();X(()=>O(a,`${t(p),d(()=>It[t(p)])??""} ${t(Q),d(()=>t(Q).day)??""}`)),r(e,a)},Ee=e=>{var a=E("Upcoming Events");r(e,a)};h(ke,e=>{t(Q)?e(xe):e(Ee,!1)})}i(Nt);var Se=s(Nt,2);{var Me=e=>{var a=pa();bt(a,5,()=>(t(Q),d(()=>t(Q).events)),mt,(c,o)=>{var I=_a(),b=n(I),f=n(b),x=n(f);{var v=g=>{var w=E("ğŸ“");r(g,w)},T=g=>{var w=Z(),L=W(w);{var at=q=>{var M=E("ğŸ“");r(q,M)},st=q=>{var M=Z(),D=W(M);{var K=_=>{var P=E("ğŸ‘ï¸");r(_,P)},rt=_=>{var P=E("ğŸ¯");r(_,P)};h(D,_=>{t(o),d(()=>t(o).type==="review")?_(K):_(rt,!1)},!0)}r(q,M)};h(L,q=>{t(o),d(()=>t(o).type==="call")?q(at):q(st,!1)},!0)}r(g,w)};h(x,g=>{t(o),d(()=>t(o).type==="meeting")?g(v):g(T,!1)})}i(f);var y=s(f,2),m=n(y),z=n(m,!0);i(m);var U=s(m,2),B=n(U,!0);i(U),i(y),i(b);var S=s(b,2),C=n(S),Y=s(C,2),u=s(Y,2);i(S),i(I),X(g=>{gt(f,1,`event-icon ${t(o),d(()=>t(o).type)??""}`),O(z,(t(o),d(()=>t(o).title))),O(B,g)},[()=>(t(o),d(()=>t(o).date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})))]),k("click",C,()=>qt(t(o))),k("click",Y,()=>_e(t(o))),k("click",u,()=>At(t(o))),r(c,I)}),i(a),r(e,a)},De=e=>{var a=Z(),c=W(a);{var o=b=>{var f=ba(),x=s(W(f),2);k("click",x,()=>fe(t(Q).day)),r(b,f)},I=b=>{var f=ga();bt(f,5,()=>(t(N),d(()=>t(N).slice(0,5))),mt,(x,v)=>{var T=ma(),y=n(T),m=n(y),z=n(m);{var U=w=>{var L=E("ğŸ“");r(w,L)},B=w=>{var L=Z(),at=W(L);{var st=M=>{var D=E("ğŸ“");r(M,D)},q=M=>{var D=Z(),K=W(D);{var rt=P=>{var R=E("ğŸ‘ï¸");r(P,R)},_=P=>{var R=E("ğŸ¯");r(P,R)};h(K,P=>{t(v),d(()=>t(v).type==="review")?P(rt):P(_,!1)},!0)}r(M,D)};h(at,M=>{t(v),d(()=>t(v).type==="call")?M(st):M(q,!1)},!0)}r(w,L)};h(z,w=>{t(v),d(()=>t(v).type==="meeting")?w(U):w(B,!1)})}i(m);var S=s(m,2),C=n(S),Y=n(C,!0);i(C);var u=s(C,2),g=n(u);i(u),i(S),i(y),i(T),X((w,L)=>{gt(m,1,`event-icon ${t(v),d(()=>t(v).type)??""}`),O(Y,(t(v),d(()=>t(v).title))),O(g,`${w??""} at ${L??""}`)},[()=>(t(v),d(()=>t(v).date.toLocaleDateString("en-US",{month:"short",day:"numeric"}))),()=>(t(v),d(()=>t(v).date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})))]),r(x,T)}),i(f),r(b,f)};h(c,b=>{t(Q)?b(o):b(I,!1)},!0)}r(e,a)};h(Se,e=>{t(Q),d(()=>t(Q)&&t(Q).events.length>0)?e(Me):e(De,!1)})}i(Dt);var Bt=s(Dt,2),Xt=s(n(Bt),2),jt=n(Xt),Gt=s(jt,2),Kt=s(Gt,2),pt=s(Kt,2),Ct=n(pt),Ne=n(Ct,!0);i(Ct);var Ce=s(Ct);i(pt),i(Xt),i(Bt),i(Vt),i(Wt),i(wt);var Te=s(wt,2);{var Pe=e=>{var a=ya(),c=n(a),o=n(c),I=n(o),b=n(I,!0);i(I);var f=s(I,2);i(o);var x=s(o,2),v=n(x),T=s(n(v),2);Ot(T),je(T),i(v);var y=s(v,2),m=n(y),z=s(n(m),2);Ot(z),i(m);var U=s(m,2),B=s(n(U),2);Ot(B),i(U),i(y);var S=s(y,2),C=s(n(S),2);X(()=>{t(V),Ge(()=>{})});var Y=n(C);Y.value=Y.__value="meeting";var u=s(Y);u.value=u.__value="call";var g=s(u);g.value=g.__value="review";var w=s(g);w.value=w.__value="demo",i(C),i(S),i(x);var L=s(x,2),at=n(L);{var st=_=>{var P=ha();k("click",P,()=>{const R=t(N).find(dt=>dt.id===t(vt));R&&At(R)}),r(_,P)};h(at,_=>{t(tt)&&_(st)})}var q=s(at,2),M=s(q,2),D=n(M),K=n(D,!0);i(D);var rt=s(D);i(M),i(L),i(c),i(a),X(()=>{O(b,t(tt)?"Edit Event":"Create New Event"),O(K,t(tt)?"ğŸ’¾":"â•"),O(rt,` ${t(tt)?"Save Changes":"Create Event"}`)}),k("click",f,_t),Ft(T,()=>t(et),_=>l(et,_)),Ft(z,()=>t(lt),_=>l(lt,_)),Ft(B,()=>t(ft),_=>l(ft,_)),$e(C,()=>t(V),_=>l(V,_)),k("click",q,_t),k("click",M,ue),k("click",c,ae(function(_){oa.call(this,j,_)})),k("click",a,_t),r(e,a)};h(Te,e=>{t(ut)&&e(Pe)})}X(()=>{O(he,t(ot)),gt(pt,1,`quick-action-btn ${t($)?"push-enabled":""}`),pt.disabled=t($),O(Ne,t($)?"âœ…":"ğŸ””"),O(Ce,` ${t($)?"Push Enabled":"Enable Push"}`)}),k("click",Rt,de),k("click",ge,()=>Yt()),k("click",Ht,ve),k("click",ye,le),k("click",jt,()=>it.success("Calendar synced successfully")),k("click",Gt,()=>it.info("Showing today's events",{position:"top-center"})),k("click",Kt,()=>it.warning("You have 3 meetings this week")),k("click",pt,re),r(nt,Jt),Ve()}export{Ya as component};
